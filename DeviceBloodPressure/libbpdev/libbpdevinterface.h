/*************************************************
  Copyright (C), 2015-2020, 理邦精密仪器股份有限公司
  @File name:	
  @Author:   	xianhui zhang
  @Date:     	2016-09-02
  @Description:  
*************************************************/
#ifndef LIBBPDEV_INTERFACE_H
#define LIBBPDEV_INTERFACE_H


#ifdef LIBBPDEVEXPORT                                                 
#define BPDEVEXPORT extern "C" __declspec(dllexport)
#else
#define BPDEVEXPORT extern "C" __declspec(dllimport)
#endif



#define INOUT                    
#define IN                       
#define OUT 


//////////////////////////////////////////////////////////////////////////
/// @function [InitDevice]
/// @brief [打开USB HID类型设备]
///
/// @param [in] szDevContent	[设备内容，
///	USB设备JSON格式： {wVID:"xxx",wPID:"xxx"}；
/// 串口设备JSON格式：{Com："名称"，nBaud："波特率"，parity："奇偶检验位"，DataBit："数据位"，StopBits:"停止位"}  
///                             ]
/// @param [in] nFormatType		[数据格式类型，0表示json格式，1表示xml格式，2表示protobuf格式]
/// @return						[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpInitDevice(IN const char *szDevContent);

//////////////////////////////////////////////////////////////////////////
/// @function [OpenDevice]
/// @brief [打开USB HID类型设备]
///
/// @param [in] szDevContent	[设备内容，
///	USB设备JSON格式： {wVID:"xxx",wPID:"xxx"}；
/// 串口设备JSON格式：{Com："名称"，nBaud："波特率"，parity："奇偶检验位"，DataBit："数据位"，StopBits:"停止位"}  
///                             ]
/// @param [in] nDevType		[设备类型，0表示串口设备，1表示USB设备]
/// @return						[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpOpenDevice();

//////////////////////////////////////////////////////////////////////////
/// @function [CloseDevice]
/// @brief [关闭设备]
///
/// @return				[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpCloseDevice();

/// @function [WriteDevice]
/// @brief [写数据到设备]
///
/// @param [in] pData	[数据内容]
/// @param [in] nSize	[数据长度]
/// @param [OUT] pResultData	[返回的结果数据，返回值可以为空]
/// @param [OUT] nResultSize	[返回的结果数据大小，返回值可以为0]
/// @return				[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpWriteDevice(IN const char *pData, IN int nSize, \
	OUT char **pResultData,  OUT int &nResultSize);

//////////////////////////////////////////////////////////////////////////
/// @function [ReadDevice]
/// @brief [读设备]
///
/// @param [OUT] pData	[数据内容]
/// @param [OUT] nSize	[数据长度]
/// @param [in] nTimeOut	[超时时间]
/// @return				[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpReadDevice(OUT char **pData, OUT int &nSize);


//////////////////////////////////////////////////////////////////////////
/// @function [FreeMemory]
/// @brief [读设备]
///
/// @param [in] pData	[数据内容]
/// @return				[int 类型]
//////////////////////////////////////////////////////////////////////////
BPDEVEXPORT int BpFreeMemory(IN char **pData);









#endif





